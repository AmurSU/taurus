- both_week_pairs = @pairs[day_counter][time][0]
- first_week_pairs = @pairs[day_counter][time][1]
- second_week_pairs = @pairs[day_counter][time][2]
%td
  -# Uncomment for debug purpose only!
  =# both_week_pairs.size
  =# first_week_pairs.size
  =# second_week_pairs.size
  - if both_week_pairs.empty? and first_week_pairs.empty? and second_week_pairs.empty?
    .nopair
  - else
    .daycellcontainer{:title => day}
      %table{:class => 'daycell'}
        - if both_week_pairs.any? and !first_week_pairs.any? and !second_week_pairs.any?
          %tr
            = render 'week_in_day', :pairs => both_week_pairs, :skipcell => [], :singlerow => true
        - else
          - skipcell = []
          %tr
            - if first_week_pairs.any? or both_week_pairs.any?
              = render 'week_in_day', :pairs => first_week_pairs+both_week_pairs, :skipcell => skipcell, :singlerow => false
          %tr
            - if second_week_pairs.any?
              = render 'week_in_day', :pairs => second_week_pairs, :skipcell => skipcell, :singlerow => false        

