jQuery(document).ready(function($){
    $('#plus').before('<%= escape_javascript render :partial => 'grid', :object => @classroom %>');
    $('.receiver').droppable({
        accept: '.pair',
        over: function(){ $(this).addClass('hovered_receiver');},
        out: function(){ $(this).removeClass('hovered_receiver');},
        drop: function(event, ui){
            $.post('/editor/pairs/' + ui.draggable.attr('id'), {
                _method: 'put',
                classroom: $(this).attr('grid_id'),
                week_number: $(this).attr('week_number'),
                day_of_the_week: $(this).attr('day_of_the_week'),
                pair_number: $(this).attr('pair_number'),
                container: $(this).attr('id')
            }, null, "script");
            $(this).removeClass('hovered_receiver');
        }
    });
    <% @pairs.each do |pair| %>
    $('#<%=  escape_javascript "container_grid#{@classroom.id}_week#{pair.week_number}_day#{pair.day_of_the_week}_time#{pair.pair_number}" %>').append(
        '<%= escape_javascript render :partial => '/editor/pairs/pair', :object => pair %>'
    );
    <% end %>
    $('.pair').draggable();
    $('#form').fadeOut('slow');
});