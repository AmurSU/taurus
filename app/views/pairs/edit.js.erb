jQuery(document).ready(function($){
    $('#plus').before('<%= escape_javascript render :partial => 'pair_edit' %>');
    var dlg = $('#update_pair_<%= escape_javascript @pair.id.to_s %>').dialog({
        closeText: 'Закрыть',
        draggable: false,
        modal: true,
        open: function() {
            $('#charge_card_block').hide();
        },
        show: 'clip',
        hide: 'clip',
        title: 'Редактировать пару'
    });
    
    $('#save_pair_<%= escape_javascript @pair.id.to_s %>').click( function() {
        dlg.dialog("close");
    });
    
    $.getJSON('teaching_places.json', function(data) {
        var teaching_places = new Array(0);
        data.each(function(i) {
            teaching_places.push({ label: i.teaching_place.name, value: i.teaching_place.id });
        });

        $('#lecturer_name').autocomplete({
            source: teaching_places,
            select: function() {
                $('#charge_card_block').fadeIn('fast');
            }
        });
    });
});
